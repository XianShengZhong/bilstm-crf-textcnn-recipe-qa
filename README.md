
# A Recipe QA System with BiLSTM-CRF and TextCNN(基于 BiLSTM-CRF 和 TextCNN 的菜谱问答系统)

## 🍳 布大厨智能菜谱问答系统 - 你的AI厨房小助手
"不会做菜？让我来帮你！从今天起，你就是厨房里的超级英雄！"   
![图片名称](./demonstration_photos/demo.png)  

## 🌟 项目简介
#### 这是一个基于知识图谱的智能菜谱问答系统，它能：
回答各种烹饪相关问题（"红烧肉怎么做？"）  
推荐特色菜品（"推荐个川菜"）  
识别菜品特征（"清淡的菜有哪些？"）  
简单来说，就是你的24小时在线米其林大厨！👨‍🍳

## 🚀 快速开始
#### 先决条件
Python 3.11+  
Neo4j 数据库 (别担心，安装就像煮方便面一样简单)  
一颗热爱烹饪的心 ❤️  

## 🍳 烹饪数据大餐 (运行流程)
#### 按照这个顺序来，就像跟着菜谱做菜一样简单：
######  1.准备食材 (数据处理)

```bash
python data/processed_cookbook.py
```

######  2.切配食材 (生成训练数据)

```bash
python data/BILSTM_CRF_train_data_generate.py
python data/TEXTCNN_train_data_generate.py
```

######  3.训练大厨 (模型训练)

```bash
python models/bilstm_crf.py
python models/textcnn.py
```

######  4.构建知识图谱 (把菜谱装进大脑)

```bash
python build_cookgraph.py
```

######  5.开火烹饪！ (启动系统)
控制台版本:  

```bash
python chatbot_graph.py  
```

Web版本 (更美味):  

```bash
python chatbot_api.py  
```

## 🧑‍🍳 项目结构
#### 厨房大厨的秘方箱 📦
├── data/                  # 数据存储与处理  
│   ├── cookbook_unhandled.txt             # 原始数据  
│   ├── data.json        # 处理后的数据  
│    ├── *.txt              # 菜名、菜系、口味、食材数据、模型训练数据  
│   └── *.py             # 数据处理脚本  
├── models/               # 模型相关  
│   ├── bilstm_crf.py     # 实体识别模型  
│   ├── textcnn.py        # 意图识别模型  
│   ├── *.py        # 模型预测器  
│   └── model_save/       # 模型权重  
├── templates/            # 网页模板  
├── build_cookgraph.py    # 知识图谱构建  
├── chatbot_*.py          # 问答系统入口  
├── *.py          # 问题分类器、解析器、答案查询器（答案生成器）  
├── README.md             # 说明文档  
└──demonstration_photos             # 演示照片  

## 💡 功能示例  
| 你问                 | 系统答                                                                 |
|----------------------|------------------------------------------------------------------------|
| "请问宫保鸡丁的菜系是什么"   | "布布根据您提供的菜名找出了它所属的菜系(〃＾▽＾〃):"宫保鸡丁"属于"川菜"                                       |
| "请问叉烧鸡的口味是什么？" | "布布根据您提供的菜名找出了它的口味(〃＾▽＾〃):“叉烧鸡”的口味为:鸡肉细嫩，网油酥香，馅料味鲜，食之口感丰富，且有回味。"                                        |
| "红烧猪蹄需要的食材有哪些？"     | "布布根据您提供的菜名找出了它所需的食材(〃＾▽＾〃):“红烧猪蹄”所需食材为:猪蹄750克，盐、葱各13克，姜8克，香油、料酒各25克，花椒5粒，冰糖50克，汤1300克。"               |
| "有什么麻辣的菜推荐？"     | "布布根据您的口味，推荐以下菜，觉得可能适合您的要求(꒪ˊ꒳ˋ꒪):麻辣冬瓜、怪味鸡、川味棒棒鸡、粉蒸牛肉、麻辣豆腐......"                                        |
| "请问宫保鸡肉怎么做？"   | "布布发现找不到"宫保鸡肉"但是布布会做"宫保牛肉"。                                       |

## 📝不足之处
#### 数据方面
###### 原始数据收集：
网上菜谱数据质量参差不齐，存在部分菜谱缺失的情况
部分菜系分类可能存在不准确的情况
###### 训练数据生成：
由于缺乏公开的菜谱问答数据集，需自行生成训练数据
###### 可能导致以下问题：
1.实体识别模型对未见过的问题模板效果欠佳  
2.意图识别模型对新型提问方式识别率较低  
3.无法覆盖所有可能的问题模板  
#### 模型方面
###### 训练限制：
在笔记本环境下运行，BILSTM-CRF模型无法使用批量训练，否则计算图过长可能导致内存问题
###### 答案生成：
1.当前采用模板填充方式，灵活性不足  
2.对于复杂问题（如多条件组合查询）支持有限

## ☎️ 联系我
#### 想一起做大厨吗？欢迎贡献你的秘方！或者遇到了问题？就像做饭糊锅了一样正常！
邮箱：2969041696@QQ.com

	